<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.company.swurameal.dao.mybatis.CartDao">

	<!-- 사용자 ID로 장바구니에 담긴 모든 상품 조회 -->
	<select id="selectCartByUserId" parameterType="string"
		resultType="Cart">
		SELECT *
		FROM cart
		WHERE user_id = #{userId}
	</select>

	<!-- 사용자 ID와 상품 ID로 장바구니의 특정 상품 조회 -->
	<select id="selectGoodsInCart" parameterType="map"
		resultType="Cart">
		SELECT *
		FROM cart
		WHERE user_id = #{userId}
		AND goods_id = #{goodsId}
	</select>
	
	<!-- 장바구니에 새로운 상품 추가 -->
	<insert id="insertGoodsIntoCart" parameterType="Cart">
		INSERT INTO cart
		(user_id, goods_id, quantity)
		VALUES (#{userId}, #{goodsId},
		#{quantity})
	</insert>

	<!-- 장바구니에 기존 상품 수량 업데이트 -->
	<update id="updateGoodsQuantity" parameterType="Cart">
		UPDATE cart
		SET
		quantity = #{quantity}
		WHERE user_id = #{userId}
		AND goods_id =
		#{goodsId}
	</update>

</mapper>		